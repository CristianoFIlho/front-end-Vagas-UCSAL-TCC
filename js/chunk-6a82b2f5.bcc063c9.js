(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a82b2f5"],{4660:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isActive?a("div",{staticClass:"ui-cursor-pointer ui-mx-3",on:{click:function(e){return t.authenticate()}}},[a("img",{attrs:{src:t.iconSrc,alt:t.provider+" signin button"}})]):t._e()},i=[],n=a("5530"),o=(a("96cf"),a("1da1")),s=a("ea71"),c=a("4245"),u="registration",l="binding",d={name:"SocialLoginButton",props:{provider:{type:String,required:!0}},data:function(){return{isActive:!0}},computed:{iconSrc:function(){return this.$socialLogin.getIcon(this.provider)}},mounted:function(){var t=this;this.$socialLogin.isActive(this.provider).then((function(e){return t.isActive=e}))},methods:{authenticate:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,i,o,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.provider,r="",e.prev=2,e.next=5,t.$socialLogin.authenticate(a);case 5:r=e.sent,e.next=12;break;case 8:if(e.prev=8,e.t0=e["catch"](2),e.t0===c["l"]){e.next=12;break}throw e.t0;case 12:if(r){e.next=14;break}return e.abrupt("return");case 14:return e.prev=14,e.next=17,t.$services.accounts.socialLoginAuthenticate(a,r);case 17:i=e.sent,e.t1=i.action_type,e.next=e.t1===u?21:e.t1===l?23:25;break;case 21:return t.$services.events.notifySocialLoginRegistration(a),e.abrupt("break",25);case 23:return t.$services.events.notifySocialLoginBinding(a),e.abrupt("break",25);case 25:return t.$services.events.notifySocialLoginLogin(a),e.abrupt("return",t.$router.push({name:"dados-complementares",query:t.$route.query}));case 29:if(e.prev=29,e.t2=e["catch"](14),e.t2!==c["p"]){e.next=35;break}return e.abrupt("return",t.$router.push({name:"login-confirme-seu-email",query:Object(n["a"])(Object(n["a"])({},t.$route.query),{},{email:e.t2.meta.email})}));case 35:if(e.t2!==c["o"]){e.next=39;break}return o={providerName:a,providerToken:r},d=t.$route.query,e.abrupt("return",t.$router.push({name:"cadastro-social-login-sem-email",params:o,query:d}));case 39:p={title:"Não foi possível realizar o login pela rede social",subTitle:"Por favor, aguarde alguns minutos e tente logar novamente",type:"error",confirmButton:{label:"Fechar",onClick:function(){return t.$modal.hide()}}},e.t2===c["n"]?(p.title="Rede social temporariamente indisponível",p.subTitle="Por favor, aguarde alguns instantes ou escolha outra forma de realizar login"):console.error(e.t2),t.$modal.show({component:s["a"],props:p});case 42:case"end":return e.stop()}}),e,null,[[2,8],[14,29]])})))()}}},p=d,f=a("2877"),m=Object(f["a"])(p,r,i,!1,null,null,null);e["a"]=m.exports},"498a2":function(t,e,a){"use strict";var r=a("23e7"),i=a("58a8").trim,n=a("c8d2");r({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},"671d":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p-input",t._g(t._b({ref:"pInput",attrs:{icon:t.currentIcon,type:t.showPassword?"text":"password"},on:{"handle-icon-click":function(e){t.showPassword=!t.showPassword}}},"p-input",t.$attrs,!1),t.$listeners))},i=[],n=a("8dac"),o={name:"InputPassword",components:{PInput:n["a"]},data:function(){return{showPassword:this.defaultVisible}},props:{defaultVisible:{type:Boolean,default:!1}},computed:{currentIcon:function(){return this.showPassword?"eyeInvisible":"eye"}},methods:{validate:function(){this.$refs.pInput.validate()}}},s=o,c=a("2877"),u=Object(c["a"])(s,r,i,!1,null,null,null);e["a"]=u.exports},bcd0:function(t,e,a){t.exports=a.p+"img/warning.f9fac9a7.svg"},c6f7:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sm:c-col-4 md:c-col-8 lg:c-col-6"},[a("div",[a("p-form",{on:{submit:t.onSubmit},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid;return[a("div",{staticClass:"c-text-subtitle ui-mb-4"},[t._v(" Faça login com sua conta Estratégia ")]),a("div",{staticClass:"c-row ui-mb-4"},[a("validation-provider",{staticClass:"c-col",attrs:{rules:"required|email",name:"Email"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("p-input",{attrs:{"data-cy":"loginField",label:"Email*",name:"loginField","error-message":r[0],type:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})]}}],null,!0)})],1),a("div",{staticClass:"c-row ui-mb-8"},[a("validation-provider",{staticClass:"c-col-2 sm:c-col",attrs:{rules:"required|min:5","custom-messages":{required:"Senha é obrigatória",min:"A senha precisa ter no mínimo 5 caracteres"}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("input-password",{attrs:{"data-cy":"passwordField",label:"Senha*",name:"passwordField","error-message":r[0],"disable-dafault-state":!0},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})]}}],null,!0)}),a("div",{staticClass:"c-col-2 sm:c-col"},[a("div",{staticClass:"ui-h-input ui-flex ui-items-center"},[a("router-link",{staticClass:"c-text-hyperlink c-text-gray",attrs:{to:{name:"esqueci-senha",query:Object.assign({},t.$route.query,{email:t.user.email})},"data-cy":"forgotPasswordLink"}},[t._v(" Esqueci minha senha ")])],1)])],1),a("div",{staticClass:"c-row ui-mb-2"},[a("div",{staticClass:"c-col c-d-flex c-center"},[a("span",{staticClass:"c-text-b2 c-text-gray-300"},[t._v("Ou continue com:")])])]),a("div",{staticClass:"c-row ui-mb-8"},[a("div",{staticClass:"c-col"},[a("separator")],1),a("div",{staticClass:"c-d-flex"},[a("social-login-button",{attrs:{provider:"facebook"}}),a("social-login-button",{attrs:{provider:"google"}}),a("social-login-button",{attrs:{provider:"apple"}})],1),a("div",{staticClass:"c-col"},[a("separator")],1)]),a("div",{staticClass:"c-row"},[a("div",{staticClass:"c-col sm:c-col-1/2"},[t.isRecaptchaRequired&&!t.recaptchaToken?a("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:t.$env.VUE_APP_GOOGLE_RECAPTCHA_SITE_KEY,"load-recaptcha-script":!0},on:{verify:function(e){return t.setRecaptchaToken(e)},expired:function(){return t.clearRecaptchaToken()},error:function(){return t.clearRecaptchaToken()}}}):a("c-button",{staticClass:"ui-w-full",attrs:{disabled:r,"data-cy":"registerButton",size:"lg",type:"submit",loading:t.isFormSubmitting}},[t._v(" Continuar "),a("icon",{staticClass:"c-icon--right",attrs:{name:"next"}})],1)],1)])]}}])}),a("separator"),a("div",{staticClass:"c-row"},[a("div",{staticClass:"c-col"},[a("div",{staticClass:"c-text-gray"},[a("span",{staticClass:"c-text-b2"},[t._v("Ainda não tem conta? ")]),a("router-link",{staticClass:"c-text-hyperlink",attrs:{to:{name:"cadastro",query:Object.assign({},t.$route.query)},"data-cy":"cadastroLink"}},[t._v(" Faça o cadastro ")])],1)])])],1)])},i=[],n=(a("498a2"),a("5530")),o=(a("96cf"),a("1da1")),s=a("1ede"),c=a("671d"),u=a("8dac"),l=a("fb52"),d=a("8072"),p=a("4660"),f=a("ea71"),m=a("4245"),h=a("7bb1"),v=a("fbd9"),g=a("e096"),b={components:{SocialLoginButton:p["a"],PInput:u["a"],CButton:s["a"],Icon:s["l"],InputPassword:c["a"],Separator:d["a"],ValidationProvider:h["b"],PForm:l["a"],VueRecaptcha:g["a"]},data:function(){return{user:{email:"",password:""},isFormSubmitting:!1,isRecaptchaRequired:!!localStorage.getItem("last_login_failed"),recaptchaToken:localStorage.getItem("recaptcha_token")||""}},mounted:function(){var t=this.$route.query.email;t&&(this.user.email=t.trim());var e=sessionStorage.getItem(v["b"]);e&&this.showModalLogoutReason(e),sessionStorage.removeItem(v["b"])},methods:{onSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isFormSubmitting=!0,e.prev=1,e.next=4,t.$services.accounts.login(t.user.email,t.user.password,t.recaptchaToken);case 4:t.$services.events.notifyManualLogin(),t.$router.push({name:"dados-complementares",query:t.$route.query}),localStorage.removeItem("last_login_failed"),e.next=33;break;case 9:if(e.prev=9,e.t0=e["catch"](1),e.t0!==m["l"]){e.next=13;break}return e.abrupt("return");case 13:if(e.t0!==m["p"]){e.next=17;break}t.$router.push({name:"login-confirme-seu-email",query:Object(n["a"])(Object(n["a"])({},t.$route.query),{},{email:t.user.email})}),e.next=33;break;case 17:if(e.t0!==m["j"]&&e.t0!==m["r"]){e.next=24;break}t.$toast.show({type:"error",text:"Email ou senha inválidos.",timeout:0}),localStorage.setItem("last_login_failed",!0),t.isRecaptchaRequired=!0,t.recaptchaToken&&t.clearRecaptchaToken(),e.next=33;break;case 24:if(e.t0!==m["k"]){e.next=28;break}t.$toast.show({type:"error",text:"Falha de acesso. Contate o suporte.",timeout:0}),e.next=33;break;case 28:if(!localStorage.getItem("last_login_failed")){e.next=32;break}t.$toast.show({type:"error",text:"Muitas tentativas foram feitas, tente novamente mais tarde.",timeout:0}),e.next=33;break;case 32:throw e.t0;case 33:return e.prev=33,t.isFormSubmitting=!1,e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[1,9,33,36]])})))()},showModalLogoutReason:function(t){var e=this;if(!(t in v["c"])){var a=new Error("Motivo de logout desconhecido: ".concat(t));return this.$sentry.log(a)}var r=v["c"][t];r&&this.$modal.show({component:f["a"],overlayOpacity:.5,props:{title:"",subTitle:r,type:"error",confirmButton:{label:"Fechar",onClick:function(){return e.$modal.hide()}}}})},setRecaptchaToken:function(t){this.recaptchaToken=t,localStorage.setItem("recaptcha_token",t)},clearRecaptchaToken:function(){this.recaptchaToken="",localStorage.removeItem("recaptcha_token")}}},y=b,w=a("2877"),k=Object(w["a"])(y,r,i,!1,null,null,null);e["default"]=k.exports},c86d:function(t,e,a){t.exports=a.p+"img/success.4f8357f7.svg"},c8d2:function(t,e,a){var r=a("d039"),i=a("5899"),n="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||n[t]()!=n||i[t].name!==t}))}},e096:function(t,e,a){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},r.apply(this,arguments)}var i=function(){var t=!1,e=[],a=function(a){if(!t){t=!0;for(var r=0,i=e.length;r<i;r++)e[r](a)}},r=function(a){t?a():e.push(a)},i={resolved:function(){return t},resolve:a,promise:{then:r}};return i},n=Object.prototype.hasOwnProperty;function o(){var t=i();return{notify:function(){t.resolve()},wait:function(){return t.promise},render:function(t,e,a){this.wait().then((function(){a(window.grecaptcha.render(t,e))}))},reset:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(t)})))},execute:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(t)})))},checkRecaptchaLoad:function(){n.call(window,"grecaptcha")&&n.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!t.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var s=o();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=s.notify);var c={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var t=document.createElement("script");t.id=this.recaptchaScriptId,t.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,t.async=!0,t.defer=!0,document.head.appendChild(t)}},mounted:function(){var t=this;s.checkRecaptchaLoad();var e=r({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),a=this.$slots["default"]?this.$el.children[0]:this.$el;s.render(a,e,(function(e){t.$widgetId=e,t.$emit("render",e)}))},methods:{reset:function(){s.reset(this.$widgetId)},execute:function(){s.execute(this.$widgetId)},emitVerify:function(t){this.$emit("verify",t)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(t){return t("div",{},this.$slots["default"])}};e["a"]=c},ea71:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-container ui-h-full"},[a("div",{staticClass:"c-row c-center ui-h-full"},[a("div",{staticClass:"c-col-full sm:c-col-4 md:c-col-8 lg:c-col-6"},[a("div",{staticClass:"ui-relative c-bg-white ui-rounded-md"},[a("div",{staticClass:"c-row ui-h-full ui-p-8 ui-pb-0"},[a("div",{staticClass:"c-col-full sm:c-col-1/2 ui-pb-8 sm:ui-mt-0"},[a("div",{staticClass:"ui-flex ui-flex-col ui-h-full"},[a("div",{staticClass:"ui-flex-1"},[a("div",{staticClass:"c-text-subtitle"},[a("span",[t._v(t._s(t.title))])]),a("div",{staticClass:"c-text-b2 ui-mt-3"},[a("span",[t._v(t._s(t.subTitle))])])]),a("div",{staticClass:"ui-pt-4 md:ui-inline-flex"},[a("c-button",{attrs:{full:"",size:"lg"},on:{click:t.confirmButton.onClick}},[t._v(" "+t._s(t.confirmButton.label)+" ")]),""!==t.cancelButton.label?a("c-button",{staticClass:"ui-mt-4 md:ui-mt-0 md:ui-ml-4",attrs:{outline:"",full:"",size:"lg"},on:{click:t.cancelButton.onClick}},[t._v(" "+t._s(t.cancelButton.label)+" ")]):t._e()],1)])]),a("div",{staticClass:"c-col-full sm:c-col-1/2"},[a("div",{staticClass:"c-d-flex ui-h-full ui-justify-center"},[a("img",{staticClass:"ui-mt-auto",attrs:{src:t.illustrationPath,alt:"Ilustração"}})])])])])])])])},i=[],n=a("1ede"),o=void 0,s={success:{illustrationPath:a("c86d")},warning:{illustrationPath:a("bcd0")},error:{illustrationPath:a("bcd0")}},c={name:"GenericModal",components:{CButton:n["a"]},computed:{illustrationPath:function(){return s[this.type].illustrationPath}},props:{title:{type:String,required:!0},subTitle:{type:String,required:!0},type:{type:String,required:!0,validator:function(t){return!!s[t]}},confirmButton:{type:Object,default:function(){return{onClick:function(){return o.$modal.hide()},label:"Fechar"}}},cancelButton:{type:Object,default:function(){return{onClick:function(){return o.$modal.hide()},label:""}}}}},u=c,l=a("2877"),d=Object(l["a"])(u,r,i,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-6a82b2f5.bcc063c9.js.map